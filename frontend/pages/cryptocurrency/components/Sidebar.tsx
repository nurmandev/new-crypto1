import React from "react";
import { useNavigate, useLocation } from "react-router-dom";

interface SidebarItemProps {
  icon: React.ReactNode;
  label: string;
  path: string;
  badge?: string;
  isActive?: boolean;
  onClick: () => void;
}

const SidebarItem: React.FC<SidebarItemProps> = ({
  icon,
  label,
  isActive,
  badge,
  onClick,
}) => {
  return (
    <button
      onClick={onClick}
      className={`w-full flex items-center gap-2.5 px-6 py-3 transition-colors ${
        isActive ? "bg-[#3CC27B] text-white" : "text-black hover:bg-gray-100"
      }`}
    >
      <div className={isActive ? "text-white" : "text-black"}>{icon}</div>
      <span
        className={`font-roboto text-lg ${isActive ? "font-bold" : "font-normal"}`}
      >
        {label}
      </span>
      {badge && (
        <div className="ml-auto flex h-[37px] w-[37px] items-center justify-center rounded-full bg-[rgba(60,194,123,0.31)]">
          <span className="text-[#00602D] text-center font-roboto text-[10px] font-semibold">
            {badge}
          </span>
        </div>
      )}
    </button>
  );
};

export const Sidebar: React.FC = () => {
  const navigate = useNavigate();
  const location = useLocation();

  const menuItems = [
    {
      icon: (
        <svg
          width="15"
          height="14"
          viewBox="0 0 15 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.5 6.82889L13.68 1.12778L14.9775 1.90556L11.055 8.94444L6.1725 6.02778L2.595 12.4444H15V14H0V0H1.5V11.3089L5.625 3.88889L10.5 6.82889Z"
            fill="currentColor"
          />
        </svg>
      ),
      label: "Overview",
      path: "/admin/overview",
    },
    {
      icon: (
        <svg
          width="15"
          height="11"
          viewBox="0 0 15 11"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.5 9.53334V11H0V9.53334C0 9.53334 0 6.60001 5.25 6.60001C10.5 6.60001 10.5 9.53334 10.5 9.53334ZM7.875 2.56669C7.875 2.05905 7.72105 1.56281 7.43261 1.14073C7.14417 0.718642 6.7342 0.389667 6.25454 0.195402C5.77489 0.00113805 5.24709 -0.0496904 4.73789 0.0493448C4.22869 0.14838 3.76096 0.392831 3.39384 0.751785C3.02673 1.11074 2.77673 1.56807 2.67544 2.06596C2.57415 2.56384 2.62614 3.07991 2.82482 3.54891C3.0235 4.0179 3.35995 4.41876 3.79163 4.70079C4.22331 4.98282 4.73082 5.13335 5.25 5.13335C5.94619 5.13335 6.61387 4.86293 7.10616 4.38159C7.59844 3.90025 7.875 3.24741 7.875 2.56669ZM10.455 6.60001C10.9161 6.94889 11.2933 7.39233 11.5603 7.89911C11.8272 8.4059 11.9773 8.96373 12 9.53334V11H15V9.53334C15 9.53334 15 6.87134 10.455 6.60001ZM9.75 2.6984e-05C9.23384 -0.00232051 8.72909 0.148549 8.3025 0.432693C8.75808 1.0551 9.00304 1.8013 9.00304 2.56669C9.00304 3.33208 8.75808 4.07828 8.3025 4.70068C8.72909 4.98483 9.23384 5.13569 9.75 5.13335C10.4462 5.13335 11.1139 4.86293 11.6062 4.38159C12.0984 3.90025 12.375 3.24741 12.375 2.56669C12.375 1.88597 12.0984 1.23313 11.6062 0.751785C11.1139 0.270442 10.4462 2.6984e-05 9.75 2.6984e-05Z"
            fill="currentColor"
          />
        </svg>
      ),
      label: "Users",
      path: "/admin/users",
    },
    {
      icon: (
        <svg
          width="15"
          height="14"
          viewBox="0 0 15 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12.7879 9.17204C13.253 8.09305 13.36 6.89892 13.0939 5.7575C12.8277 4.61608 12.2019 3.58476 11.3042 2.8085C10.4066 2.03223 9.28228 1.55007 8.08938 1.42977C6.89648 1.30946 5.69494 1.55708 4.65366 2.1378L3.94163 0.922034C5.02988 0.315096 6.26211 -0.00280594 7.51546 1.86596e-05C8.76882 0.00284326 9.99953 0.326296 11.0849 0.938133C14.3045 2.75304 15.5378 6.63761 14.0377 9.87616L15 10.4186L12.0128 11.9682L11.8944 8.66879L12.7879 9.17204ZM2.21139 4.82831C1.74612 5.90738 1.63902 7.10165 1.90515 8.24322C2.17127 9.38478 2.79723 10.4162 3.69502 11.1925C4.59281 11.9689 5.71728 12.451 6.91034 12.5712C8.1034 12.6914 9.30505 12.4435 10.3463 11.8625L11.0576 13.0783C9.96934 13.6851 8.73708 14.0029 7.48372 14C6.23036 13.997 4.99969 13.6735 3.91438 13.0615C0.694823 11.2466 -0.538505 7.36273 0.962283 4.12349L0 3.58245L2.98652 2.03211L3.10483 5.33156L2.21139 4.82831ZM4.98996 8.40002H8.93374C9.02883 8.40002 9.12002 8.36315 9.18726 8.29752C9.2545 8.23189 9.29227 8.14288 9.29227 8.05006C9.29227 7.95724 9.2545 7.86823 9.18726 7.8026C9.12002 7.73697 9.02883 7.7001 8.93374 7.7001H6.06554C5.5901 7.7001 5.13414 7.51574 4.79796 7.18759C4.46177 6.85944 4.27291 6.41437 4.27291 5.95029C4.27291 5.48621 4.46177 5.04114 4.79796 4.71299C5.13414 4.38483 5.5901 4.20048 6.06554 4.20048H6.78259V3.50055H8.21669V4.20048H10.0093V5.60033H6.06554C5.97045 5.60033 5.87926 5.6372 5.81202 5.70283C5.74479 5.76846 5.70701 5.85747 5.70701 5.95029C5.70701 6.0431 5.74479 6.13212 5.81202 6.19775C5.87926 6.26338 5.97045 6.30025 6.06554 6.30025H8.93374C9.40918 6.30025 9.86514 6.4846 10.2013 6.81276C10.5375 7.14091 10.7264 7.58598 10.7264 8.05006C10.7264 8.51414 10.5375 8.95921 10.2013 9.28736C9.86514 9.61552 9.40918 9.79987 8.93374 9.79987H8.21669V10.4998H6.78259V9.79987H4.98996V8.40002Z"
            fill="currentColor"
          />
        </svg>
      ),
      label: "Transactions",
      path: "/admin/transactions",
    },
    {
      icon: (
        <svg
          width="13"
          height="16"
          viewBox="0 0 13 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.08327 0L12.6666 4.58333V14.1667C12.6666 14.625 12.2916 15 11.8332 15H1.83333C1.375 15 1 14.625 1 14.1667V0.83333C1 0.375 1.375 0 1.83333 0H8.08327Z"
            stroke="currentColor"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M8.91602 0.416992V4.16699H12.666L8.91602 0.416992Z"
            stroke="currentColor"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      label: "Requests",
      path: "/admin/requests",
      badge: "45+",
    },
    {
      icon: (
        <svg
          width="15"
          height="17"
          viewBox="0 0 15 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.5 0L15 4.2378V12.7622L7.5 17L0 12.7622V4.2378L7.5 0ZM1.5 6.13245V11.8645L6.75 14.8315V8.95917L1.5 6.13245ZM8.25 14.8308L13.5 11.8645V6.13321L8.25 8.95993V14.8308ZM7.5 7.63658L12.84 4.76256L7.5 1.74515L2.16 4.7618L7.5 7.63658Z"
            fill="currentColor"
          />
        </svg>
      ),
      label: "Platform",
      path: "/admin/platform",
    },
    {
      icon: (
        <svg
          width="17"
          height="11"
          viewBox="0 0 17 11"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.75 8.5V6.5H6.75"
            stroke="currentColor"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M11.75 6.5L6.75 11.5C5.867 12.383 5.426 12.824 4.885 12.873C4.795 12.881 4.705 12.881 4.615 12.873C4.074 12.823 3.633 12.383 2.75 11.5C1.867 10.617 1.426 10.176 0.885 10.127C0.795184 10.1189 0.704816 10.1189 0.615 10.127C0.074 10.177 -0.367 10.617 -1.25 11.5L-4.25 14.5"
            stroke="currentColor"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      label: "Cryptocurrency",
      path: "/cryptocurrency",
    },
    {
      icon: (
        <svg
          width="20"
          height="14"
          viewBox="0 0 20 14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M13.75 9.5C13.5511 9.5 13.3603 9.57902 13.2197 9.71967C13.079 9.86032 13 10.0511 13 10.25C13 10.4489 13.079 10.6397 13.2197 10.7803C13.3603 10.921 13.5511 11 13.75 11H16.25C16.4489 11 16.6397 10.921 16.7803 10.7803C16.921 10.6397 17 10.4489 17 10.25C17 10.0511 16.921 9.86032 16.7803 9.71967C16.6397 9.57902 16.4489 9.5 16.25 9.5H13.75ZM0 3.25C0 2.38805 0.34241 1.5614 0.951903 0.951903C1.5614 0.34241 2.38805 0 3.25 0H16.75C17.1768 0 17.5994 0.0840639 17.9937 0.247392C18.388 0.410719 18.7463 0.650112 19.0481 0.951903C19.3499 1.25369 19.5893 1.61197 19.7526 2.00628C19.9159 2.40059 20 2.8232 20 3.25V10.75C20 11.1768 19.9159 11.5994 19.7526 11.9937C19.5893 12.388 19.3499 12.7463 19.0481 13.0481C18.7463 13.3499 18.388 13.5893 17.9937 13.7526C17.5994 13.9159 17.1768 14 16.75 14H3.25C2.38805 14 1.5614 13.6576 0.951903 13.0481C0.34241 12.4386 0 11.612 0 10.75V3.25ZM18.5 4.5V3.25C18.5 2.78587 18.3156 2.34075 17.9874 2.01256C17.6592 1.68437 17.2141 1.5 16.75 1.5H3.25C2.78587 1.5 2.34075 1.68437 2.01256 2.01256C1.68437 2.34075 1.5 2.78587 1.5 3.25V4.5H18.5ZM1.5 6V10.75C1.5 11.716 2.284 12.5 3.25 12.5H16.75C17.2141 12.5 17.6592 12.3156 17.9874 11.9874C18.3156 11.6592 18.5 11.2141 18.5 10.75V6H1.5Z"
            fill="currentColor"
          />
        </svg>
      ),
      label: "Payment Methods",
      path: "/admin/payment-methods",
    },
    {
      icon: (
        <svg
          width="15"
          height="16"
          viewBox="0 0 15 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M13.6223 6.54401C13.3851 4.00001 11.9463 0 7.49994 0C3.05355 0 1.61478 4.00001 1.37755 6.54401C0.545292 6.87419 -0.00367641 7.70947 1.85376e-05 8.63999V9.76C1.85376e-05 10.9971 0.959414 12 2.14284 12C3.3263 12 4.28569 10.9971 4.28569 9.76V8.63999C4.28182 7.72953 3.75305 6.91143 2.9464 6.56801C3.09947 5.09598 3.84947 1.60001 7.49994 1.60001C11.1504 1.60001 11.8927 5.09598 12.0458 6.56801C11.2408 6.91218 10.7147 7.73084 10.7142 8.63999V9.76C10.7158 10.1815 10.8308 10.594 11.0459 10.9505C11.2611 11.3069 11.5678 11.593 11.931 11.776C11.6096 12.408 10.7907 13.264 8.77796 13.52C8.37564 12.8814 7.59723 12.6296 6.92016 12.9191C6.24312 13.2086 5.85666 13.9585 5.99785 14.7088C6.13905 15.4591 6.76841 16 7.49994 16C7.78339 15.9983 8.06083 15.9144 8.30135 15.7577C8.54186 15.6009 8.73601 15.3773 8.86216 15.112C12.1453 14.72 13.1937 12.952 13.5228 11.912C14.4131 11.6105 15.0118 10.7382 14.9998 9.76V8.63999C15.0035 7.70947 14.4545 6.87419 13.6223 6.54401ZM2.75509 9.76C2.75509 10.1134 2.48098 10.4 2.14284 10.4C1.8047 10.4 1.53062 10.1135 1.53062 9.76V8.63999C1.53001 8.55554 1.54538 8.47179 1.57588 8.39357C1.60637 8.31536 1.65136 8.24422 1.70828 8.18427C1.76519 8.12432 1.83289 8.07674 1.90748 8.04427C1.98206 8.0118 2.06206 7.99508 2.14286 7.99508C2.22365 7.99508 2.30365 8.0118 2.37824 8.04427C2.45282 8.07674 2.52052 8.12432 2.57744 8.18427C2.63435 8.24422 2.67935 8.31536 2.70984 8.39357C2.74033 8.47179 2.75571 8.55554 2.75509 8.63999V9.76ZM12.2448 8.63999C12.2448 8.28652 12.5189 7.99998 12.857 7.99998C13.1951 7.99998 13.4693 8.28652 13.4693 8.63999V9.76C13.4693 10.1134 13.1951 10.4 12.857 10.4C12.5189 10.4 12.2448 10.1135 12.2448 9.76V8.63999Z"
            fill="currentColor"
          />
        </svg>
      ),
      label: "Support",
      path: "/admin/support",
      badge: "3+",
    },
    {
      icon: (
        <svg
          width="15"
          height="16"
          viewBox="0 0 15 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.08327 3L12.6666 7.58333V17.1667C12.6666 17.625 12.2916 18 11.8332 18H1.83333C1.375 18 1 17.625 1 17.1667V3.83333C1 3.375 1.375 3 1.83333 3H8.08327Z"
            stroke="currentColor"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M8.91602 3.41699V7.16699H12.666L8.91602 3.41699Z"
            stroke="currentColor"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
      label: "Pages",
      path: "/admin/pages",
    },
    {
      icon: (
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.75 3.95175C9.75 3.426 9.324 3 8.79825 3H7.7025C7.176 3 6.75 3.426 6.75 3.95175C6.75 4.38525 6.453 4.75725 6.04875 4.91625C5.98475 4.94225 5.9215 4.96875 5.859 4.99575C5.46075 5.16825 4.9875 5.11575 4.68 4.809C4.50143 4.63084 4.25949 4.53079 4.00725 4.53079C3.75501 4.53079 3.51307 4.63084 3.3345 4.809L2.559 5.5845C2.38084 5.76307 2.28079 6.00501 2.28079 6.25725C2.28079 6.50949 2.38084 6.75143 2.559 6.93C2.8665 7.2375 2.919 7.71 2.745 8.109C2.71767 8.1718 2.69142 8.23505 2.66625 8.29875C2.50725 8.703 2.13525 9 1.70175 9C1.176 9 0.75 9.426 0.75 9.95175V11.0482C0.75 11.574 1.176 12 1.70175 12C2.13525 12 2.50725 12.297 2.66625 12.7013C2.69225 12.7653 2.7185 12.8285 2.745 12.891C2.91825 13.2892 2.86575 13.7625 2.559 14.07C2.38084 14.2486 2.28079 14.4905 2.28079 14.7427C2.28079 14.995 2.38084 15.2369 2.559 15.4155L3.3345 16.191C3.51307 16.3692 3.75501 16.4692 4.00725 16.4692C4.25949 16.4692 4.50143 16.3692 4.68 16.191C4.9875 15.8835 5.46 15.831 5.859 16.0043C5.9215 16.0318 5.98475 16.0582 6.04875 16.0837C6.453 16.2427 6.75 16.6148 6.75 17.0483C6.75 17.574 7.176 18 7.70175 18H8.79825C9.324 18 9.75 17.574 9.75 17.0483C9.75 16.6148 10.047 16.2428 10.4513 16.083C10.5153 16.058 10.5785 16.032 10.641 16.005C11.0392 15.831 11.5125 15.8842 11.8193 16.191C11.9978 16.3694 12.2399 16.4696 12.4924 16.4696C12.7448 16.4696 12.9869 16.3694 13.1655 16.191L13.941 15.4155C14.1192 15.2369 14.2192 14.995 14.2192 14.7427C14.2192 14.4905 14.1192 14.2486 13.941 14.07C13.6335 13.7625 13.581 13.29 13.7543 12.891C13.7818 12.8285 13.8082 12.7653 13.8337 12.7013C13.9927 12.297 14.3648 12 14.7983 12C15.324 12 15.75 11.574 15.75 11.0482V9.9525C15.75 9.42675 15.324 9.00075 14.7983 9.00075C14.3648 9.00075 13.9928 8.70375 13.833 8.2995C13.8078 8.23581 13.7816 8.17255 13.7543 8.10975C13.5818 7.7115 13.6342 7.23825 13.941 6.93075C14.1192 6.75218 14.2192 6.51024 14.2192 6.258C14.2192 6.00576 14.1192 5.76382 13.941 5.58525L13.1655 4.80975C12.9869 4.63159 12.745 4.53154 12.4927 4.53154C12.2405 4.53154 11.9986 4.63159 11.82 4.80975C11.5125 5.11725 11.04 5.16975 10.641 4.9965C10.5782 4.96892 10.515 4.94241 10.4513 4.917C10.047 4.75725 9.75 4.3845 9.75 3.95175Z"
            stroke="currentColor"
            strokeWidth="1.5"
          />
          <path
            d="M11.25 10.5C11.25 11.2956 10.9339 12.0587 10.3713 12.6213C9.80871 13.1839 9.04565 13.5 8.25 13.5C7.45435 13.5 6.69129 13.1839 6.12868 12.6213C5.56607 12.0587 5.25 11.2956 5.25 10.5C5.25 9.70435 5.56607 8.94129 6.12868 8.37868C6.69129 7.81607 7.45435 7.5 8.25 7.5C9.04565 7.5 9.80871 7.81607 10.3713 8.37868C10.9339 8.94129 11.25 9.70435 11.25 10.5Z"
            stroke="currentColor"
            strokeWidth="1.5"
          />
        </svg>
      ),
      label: "Settings",
      path: "/admin/settings",
    },
  ];

  return (
    <div className="w-[259px] h-full rounded-[10px] bg-white flex flex-col">
      <div className="flex-1 pt-8">
        {menuItems.map((item, index) => (
          <SidebarItem
            key={index}
            icon={item.icon}
            label={item.label}
            path={item.path}
            badge={item.badge}
            isActive={location.pathname === item.path}
            onClick={() => navigate(item.path)}
          />
        ))}
      </div>
    </div>
  );
};
